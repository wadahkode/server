"use strict";
var Session = function () {
    var get, has, set, start;
    start = function () {
        return (typeof document == 'undefined')
            ? require('jsdom-global')()
            : false;
    };
    get = function (key) {
        var sessid = key + '=', sess = document.cookie.split(';');
        for (var i = 0; i < sess.length; i++) {
            var s = sess[i];
            while (s.charAt(0) == ' ') {
                s = s.substring(1);
            }
            if (s.indexOf(sessid) == 0) {
                return s.substring(sessid.length, s.length);
            }
        }
        return "";
    };
    has = function (key) {
        return get(key) != "" ? true : false;
    };
    set = function (name, value, expired) {
        if (expired === void 0) { expired = 1; }
        var date = new Date();
        date.setTime(date.getTime() + (expired * 24 * 60 * 60 * 1000));
        var expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=/";
    };
    return {
        get: get,
        has: has,
        start: start,
        set: set
    };
};
module.exports = Session;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2Vzc2lvbi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsSUFBTSxPQUFPLEdBQUc7SUFDZCxJQUFJLEdBQVEsRUFDVixHQUFRLEVBQ1IsR0FBUSxFQUNSLEtBQVUsQ0FBQztJQUViLEtBQUssR0FBRztRQUNOLE9BQU8sQ0FBQyxPQUFPLFFBQVEsSUFBSSxXQUFXLENBQUM7WUFDckMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMzQixDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0lBRUYsR0FBRyxHQUFHLFVBQVMsR0FBVztRQUN4QixJQUFJLE1BQU0sR0FBVyxHQUFHLEdBQUcsR0FBRyxFQUM1QixJQUFJLEdBQWEsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFOUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWhCLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUU7Z0JBQ3pCLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3BCO1lBQ0QsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDMUIsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzdDO1NBQ0Y7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUMsQ0FBQztJQUVGLEdBQUcsR0FBRyxVQUFTLEdBQVc7UUFDeEIsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUN2QyxDQUFDLENBQUM7SUFFRixHQUFHLEdBQUcsVUFBUyxJQUFZLEVBQUUsS0FBYSxFQUFFLE9BQW1CO1FBQW5CLHdCQUFBLEVBQUEsV0FBbUI7UUFDN0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUV0QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQy9ELElBQUksT0FBTyxHQUFHLFVBQVUsR0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFNUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsT0FBTyxHQUFHLFNBQVMsQ0FBQztJQUNuRSxDQUFDLENBQUM7SUFFRixPQUFPO1FBQ0wsR0FBRyxLQUFBO1FBQ0gsR0FBRyxLQUFBO1FBQ0gsS0FBSyxPQUFBO1FBQ0wsR0FBRyxLQUFBO0tBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNlc3Npb25cclxuICovXHJcbmNvbnN0IFNlc3Npb24gPSBmdW5jdGlvbigpIHtcclxuICBsZXQgZ2V0OiBhbnksXHJcbiAgICBoYXM6IGFueSxcclxuICAgIHNldDogYW55LFxyXG4gICAgc3RhcnQ6IGFueTtcclxuICBcclxuICBzdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgID8gcmVxdWlyZSgnanNkb20tZ2xvYmFsJykoKVxyXG4gICAgICA6IGZhbHNlO1xyXG4gIH07XHJcbiAgXHJcbiAgZ2V0ID0gZnVuY3Rpb24oa2V5OiBzdHJpbmcpIHtcclxuICAgIGxldCBzZXNzaWQ6IHN0cmluZyA9IGtleSArICc9JyxcclxuICAgICAgc2Vzczogc3RyaW5nW10gPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBzID0gc2Vzc1tpXTtcclxuICAgICAgXHJcbiAgICAgIHdoaWxlIChzLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICBzID0gcy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHMuaW5kZXhPZihzZXNzaWQpID09IDApIHtcclxuICAgICAgICByZXR1cm4gcy5zdWJzdHJpbmcoc2Vzc2lkLmxlbmd0aCwgcy5sZW5ndGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJcIjtcclxuICB9O1xyXG4gIFxyXG4gIGhhcyA9IGZ1bmN0aW9uKGtleTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gZ2V0KGtleSkgIT0gXCJcIiA/IHRydWUgOiBmYWxzZTtcclxuICB9O1xyXG4gIFxyXG4gIHNldCA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlZDogbnVtYmVyID0gMSkge1xyXG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgXHJcbiAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZXhwaXJlZCAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgIGxldCBleHBpcmVzID0gXCJleHBpcmVzPVwiK2RhdGUudG9VVENTdHJpbmcoKTtcclxuICAgIFxyXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtwYXRoPS9cIjtcclxuICB9O1xyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBnZXQsXHJcbiAgICBoYXMsXHJcbiAgICBzdGFydCxcclxuICAgIHNldFxyXG4gIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFNlc3Npb247Il19