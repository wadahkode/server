"use strict";
var Session = function () {
    var start = function () {
        return (typeof document == 'undefined')
            ? require('jsdom-global')()
            : false;
    };
    var get = function (key) {
        var sessid = key + '=', sess = document.cookie.split(';');
        for (var i = 0; i < sess.length; i++) {
            var s = sess[i];
            while (s.charAt(0) == ' ') {
                s = s.substring(1);
            }
            if (s.indexOf(sessid) == 0) {
                return s.substring(sessid.length, s.length);
            }
        }
    };
    var has = function (key) {
        return get(key) ? true : false;
    };
    var set = function (name, value, expired, path) {
        var date = new Date();
        date.setTime(date.getTime() + (expired * 24 * 60 * 60 * 1000));
        var expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=" + path;
    };
    return {
        get: get,
        has: has,
        start: start,
        set: set
    };
};
module.exports = Session;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdjIvc2Vzc2lvbi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsSUFBTSxPQUFPLEdBQUc7SUFDZCxJQUFNLEtBQUssR0FBRztRQUNaLE9BQU8sQ0FBQyxPQUFPLFFBQVEsSUFBSSxXQUFXLENBQUM7WUFDckMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMzQixDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0lBRUYsSUFBTSxHQUFHLEdBQUcsVUFBUyxHQUFXO1FBQzlCLElBQUksTUFBTSxHQUFXLEdBQUcsR0FBRyxHQUFHLEVBQzVCLElBQUksR0FBYSxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUU5QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFaEIsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRTtnQkFDekIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEI7WUFDRCxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUMxQixPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDN0M7U0FDRjtJQUNILENBQUMsQ0FBQztJQUVGLElBQU0sR0FBRyxHQUFHLFVBQVMsR0FBVztRQUM5QixPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBRUYsSUFBTSxHQUFHLEdBQUcsVUFBUyxJQUFZLEVBQUUsS0FBYSxFQUFFLE9BQWUsRUFBRSxJQUFZO1FBQzdFLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLE9BQU8sR0FBRyxVQUFVLEdBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzVDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pFLENBQUMsQ0FBQztJQUVGLE9BQU87UUFDTCxHQUFHLEtBQUE7UUFDSCxHQUFHLEtBQUE7UUFDSCxLQUFLLE9BQUE7UUFDTCxHQUFHLEtBQUE7S0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlc3Npb25cbiAqL1xuY29uc3QgU2Vzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAodHlwZW9mIGRvY3VtZW50ID09ICd1bmRlZmluZWQnKVxuICAgICAgPyByZXF1aXJlKCdqc2RvbS1nbG9iYWwnKSgpXG4gICAgICA6IGZhbHNlO1xuICB9O1xuICBcbiAgY29uc3QgZ2V0ID0gZnVuY3Rpb24oa2V5OiBzdHJpbmcpIHtcbiAgICBsZXQgc2Vzc2lkOiBzdHJpbmcgPSBrZXkgKyAnPScsXG4gICAgICBzZXNzOiBzdHJpbmdbXSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2Vzcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHMgPSBzZXNzW2ldO1xuICAgICAgXG4gICAgICB3aGlsZSAocy5jaGFyQXQoMCkgPT0gJyAnKSB7XG4gICAgICAgIHMgPSBzLnN1YnN0cmluZygxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzLmluZGV4T2Yoc2Vzc2lkKSA9PSAwKSB7XG4gICAgICAgIHJldHVybiBzLnN1YnN0cmluZyhzZXNzaWQubGVuZ3RoLCBzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3QgaGFzID0gZnVuY3Rpb24oa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gZ2V0KGtleSkgPyB0cnVlIDogZmFsc2U7XG4gIH07XG4gIFxuICBjb25zdCBzZXQgPSBmdW5jdGlvbihuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZWQ6IG51bWJlciwgcGF0aDogc3RyaW5nKSB7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIFxuICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChleHBpcmVkICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xuICAgIGxldCBleHBpcmVzID0gXCJleHBpcmVzPVwiK2RhdGUudG9VVENTdHJpbmcoKTtcbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO3BhdGg9XCIgKyBwYXRoO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICBnZXQsXG4gICAgaGFzLFxuICAgIHN0YXJ0LFxuICAgIHNldFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXNzaW9uOyJdfQ==