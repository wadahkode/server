"use strict";
var Session = function () {
    var get, has, set, start;
    start = function () {
        return (typeof document == 'undefined')
            ? require('jsdom-global')()
            : false;
    };
    get = function (key) {
        var sessid = key + '=', sess = document.cookie.split(';');
        for (var i = 0; i < sess.length; i++) {
            var s = sess[i];
            while (s.charAt(0) == ' ') {
                s = s.substring(1);
            }
            if (s.indexOf(sessid) == 0) {
                return s.substring(sessid.length, s.length);
            }
        }
    };
    has = function (key) {
        return get(key) ? true : false;
    };
    set = function (name, value, expired, path) {
        var date = new Date();
        date.setTime(date.getTime() + (expired * 24 * 60 * 60 * 1000));
        var expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=" + path;
    };
    return {
        get: get,
        has: has,
        start: start,
        set: set
    };
};
module.exports = Session;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdjIvc2Vzc2lvbi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsSUFBTSxPQUFPLEdBQUc7SUFDZCxJQUFJLEdBQVEsRUFDVixHQUFRLEVBQ1IsR0FBUSxFQUNSLEtBQVUsQ0FBQztJQUViLEtBQUssR0FBRztRQUNOLE9BQU8sQ0FBQyxPQUFPLFFBQVEsSUFBSSxXQUFXLENBQUM7WUFDckMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUMzQixDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0lBRUYsR0FBRyxHQUFHLFVBQVMsR0FBVztRQUN4QixJQUFJLE1BQU0sR0FBVyxHQUFHLEdBQUcsR0FBRyxFQUM1QixJQUFJLEdBQWEsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFOUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWhCLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUU7Z0JBQ3pCLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3BCO1lBQ0QsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDMUIsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzdDO1NBQ0Y7SUFDSCxDQUFDLENBQUM7SUFFRixHQUFHLEdBQUcsVUFBUyxHQUFXO1FBQ3hCLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNqQyxDQUFDLENBQUM7SUFFRixHQUFHLEdBQUcsVUFBUyxJQUFZLEVBQUUsS0FBYSxFQUFFLE9BQWUsRUFBRSxJQUFZO1FBQ3ZFLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLE9BQU8sR0FBRyxVQUFVLEdBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzVDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pFLENBQUMsQ0FBQztJQUVGLE9BQU87UUFDTCxHQUFHLEtBQUE7UUFDSCxHQUFHLEtBQUE7UUFDSCxLQUFLLE9BQUE7UUFDTCxHQUFHLEtBQUE7S0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlc3Npb25cbiAqL1xuY29uc3QgU2Vzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICBsZXQgZ2V0OiBhbnksXG4gICAgaGFzOiBhbnksXG4gICAgc2V0OiBhbnksXG4gICAgc3RhcnQ6IGFueTtcbiAgXG4gIHN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICA/IHJlcXVpcmUoJ2pzZG9tLWdsb2JhbCcpKClcbiAgICAgIDogZmFsc2U7XG4gIH07XG4gIFxuICBnZXQgPSBmdW5jdGlvbihrZXk6IHN0cmluZykge1xuICAgIGxldCBzZXNzaWQ6IHN0cmluZyA9IGtleSArICc9JyxcbiAgICAgIHNlc3M6IHN0cmluZ1tdID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcyA9IHNlc3NbaV07XG4gICAgICBcbiAgICAgIHdoaWxlIChzLmNoYXJBdCgwKSA9PSAnICcpIHtcbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDEpO1xuICAgICAgfVxuICAgICAgaWYgKHMuaW5kZXhPZihzZXNzaWQpID09IDApIHtcbiAgICAgICAgcmV0dXJuIHMuc3Vic3RyaW5nKHNlc3NpZC5sZW5ndGgsIHMubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFxuICBoYXMgPSBmdW5jdGlvbihrZXk6IHN0cmluZykge1xuICAgIHJldHVybiBnZXQoa2V5KSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcbiAgXG4gIHNldCA9IGZ1bmN0aW9uKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlZDogbnVtYmVyLCBwYXRoOiBzdHJpbmcpIHtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgXG4gICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGV4cGlyZWQgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgbGV0IGV4cGlyZXMgPSBcImV4cGlyZXM9XCIrZGF0ZS50b1VUQ1N0cmluZygpO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD1cIiArIHBhdGg7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIGdldCxcbiAgICBoYXMsXG4gICAgc3RhcnQsXG4gICAgc2V0XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlc3Npb247Il19