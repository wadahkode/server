"use strict";
var app = require('./app'), wadahkode = function () {
    app.handle = function (req, res) {
        var route = app.route(req);
        if (req.method == 'GET') {
            route.get(req, res);
            console.log('üåè %s %s %s %s', req.method, res.statusCode, new Date(), req.url);
        }
        else if (req.method == 'POST') {
            route.post(req, res);
            console.log('üåè %s %s %s %s', req.method, res.statusCode, new Date(), req.url);
        }
    };
    app.register = {};
    app.Router = {
        get: function (path, callback) { return app.get(path, callback); },
        post: function (path, callback) { return app.post(path, callback); },
    };
    app.Client = require('./client');
    return app;
};
module.exports = wadahkode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FkYWhrb2RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3dhZGFoa29kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQVM1QixTQUFTLEdBQUc7SUFVVixHQUFHLENBQUMsTUFBTSxHQUFHLFVBQUMsR0FBUSxFQUFFLEdBQVE7UUFDOUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUU3QixJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO1lBQ3ZCLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRXBCLE9BQU8sQ0FBQyxHQUFHLENBQ1QsZ0JBQWdCLEVBQ2hCLEdBQUcsQ0FBQyxNQUFNLEVBQ1YsR0FBRyxDQUFDLFVBQVUsRUFDZCxJQUFJLElBQUksRUFBRSxFQUNWLEdBQUcsQ0FBQyxHQUFHLENBQ1IsQ0FBQztTQUNIO2FBQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLE1BQU0sRUFBRTtZQUMvQixLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUVyQixPQUFPLENBQUMsR0FBRyxDQUNULGdCQUFnQixFQUNoQixHQUFHLENBQUMsTUFBTSxFQUNWLEdBQUcsQ0FBQyxVQUFVLEVBQ2QsSUFBSSxJQUFJLEVBQUUsRUFDVixHQUFHLENBQUMsR0FBRyxDQUNSLENBQUM7U0FDSDtJQUNILENBQUMsQ0FBQztJQUlGLEdBQUcsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBRWxCLEdBQUcsQ0FBQyxNQUFNLEdBQUc7UUFDWCxHQUFHLEVBQUUsVUFBQyxJQUFZLEVBQUUsUUFBYSxJQUFLLE9BQUEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQXZCLENBQXVCO1FBQzdELElBQUksRUFBRSxVQUFDLElBQVksRUFBRSxRQUFhLElBQUssT0FBQSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsRUFBeEIsQ0FBd0I7S0FDaEUsQ0FBQztJQUVGLEdBQUcsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBR2pDLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcCcpLFxyXG4vKipcclxuICogRnVuZ3NpIFdhZGFoa29kZVxyXG4gKiBcclxuICogU2VidWFoIGZ1bmdzaSB5YW5nIGRpZ3VuYWthbiB1bnR1ayBtZW5hbXB1bmcgc2VidWFoIGZ1bmdzaSBsYWluLlxyXG4gKiBcclxuICogQGF1dGhvciB3YWRhaGtvZGUgPG12cC5kZWRlZmlsYXJhc0BnbWFpbC5jb20+XHJcbiAqIEBzaW5jZSB2ZXJzaW9uIDEuMC4wXHJcbiAqL1xyXG53YWRhaGtvZGUgPSAoKSA9PiB7XHJcbiAgLyoqXHJcbiAgICogTWV0b2RlIGF0YXUgcHJvcGVydGkgeWFuZyBkaWd1bmFrYW4ga2V0aWthXHJcbiAgICogd2ViIHNlcnZlciBkaW11YXQgZGVuZ2FuIGFwcC5saXN0ZW4oYXJndW1lbnRzKSxcclxuICAgKiBcclxuICAgKiBTZWNhcmEgb3RvbWF0aXMgbWVuYW1wdW5nIHJlcXVlc3QgZGFuIHJlc3BvbnNlIGRhcmkgc2VydmVyLFxyXG4gICAqIGRhbiBtZW5jYXJpIHJvdXRlciB5YW5nIGNvY29rIGJlcmRhc2Fya2FuIHJlcXVlc3QgbWV0aG9kbnlhLlxyXG4gICAqIFxyXG4gICAqIEBzaW5jZSB2ZXJzaW9uIDEuMC4wXHJcbiAgICovXHJcbiAgYXBwLmhhbmRsZSA9IChyZXE6IGFueSwgcmVzOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHJvdXRlID0gYXBwLnJvdXRlKHJlcSk7XHJcbiAgICBcclxuICAgIGlmIChyZXEubWV0aG9kID09ICdHRVQnKSB7XHJcbiAgICAgIHJvdXRlLmdldChyZXEsIHJlcyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAn8J+MjyAlcyAlcyAlcyAlcycsXHJcbiAgICAgICAgcmVxLm1ldGhvZCxcclxuICAgICAgICByZXMuc3RhdHVzQ29kZSxcclxuICAgICAgICBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHJlcS51cmxcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PSAnUE9TVCcpIHtcclxuICAgICAgcm91dGUucG9zdChyZXEsIHJlcyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAn8J+MjyAlcyAlcyAlcyAlcycsXHJcbiAgICAgICAgcmVxLm1ldGhvZCxcclxuICAgICAgICByZXMuc3RhdHVzQ29kZSxcclxuICAgICAgICBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHJlcS51cmxcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIHVudHVrIG1lbmFtcHVuZyByb3V0ZXJcclxuICAvLyBtaXNhbG55YTogWycvJzogW0Z1bmN0aW9uXV1cclxuICBhcHAucmVnaXN0ZXIgPSB7fTtcclxuICBcclxuICBhcHAuUm91dGVyID0ge1xyXG4gICAgZ2V0OiAocGF0aDogc3RyaW5nLCBjYWxsYmFjazogYW55KSA9PiBhcHAuZ2V0KHBhdGgsIGNhbGxiYWNrKSxcclxuICAgIHBvc3Q6IChwYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpID0+IGFwcC5wb3N0KHBhdGgsIGNhbGxiYWNrKSxcclxuICB9O1xyXG4gIFxyXG4gIGFwcC5DbGllbnQgPSByZXF1aXJlKCcuL2NsaWVudCcpO1xyXG4gIFxyXG4gIC8vIEtlbWJhbGlrYW5cclxuICByZXR1cm4gYXBwO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB3YWRhaGtvZGU7Il19