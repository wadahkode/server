"use strict";
var app = require('./v2/app'), wadahkode = function () {
    app.handle = function (req, res) {
        var route = app.route(req);
        if (req.method == 'GET') {
            route.get(req, res);
            console.log('üåè %s %s %s %s', req.method, res.statusCode, new Date(), req.url);
        }
        else if (req.method == 'POST') {
            return route.post();
        }
    };
    app.register = {};
    return app;
};
module.exports = wadahkode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FkYWhrb2RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3dhZGFoa29kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQVMvQixTQUFTLEdBQUc7SUFVVixHQUFHLENBQUMsTUFBTSxHQUFHLFVBQUMsR0FBUSxFQUFFLEdBQVE7UUFDOUIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUU3QixJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO1lBQ3ZCLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRXBCLE9BQU8sQ0FBQyxHQUFHLENBQ1QsZ0JBQWdCLEVBQ2hCLEdBQUcsQ0FBQyxNQUFNLEVBQ1YsR0FBRyxDQUFDLFVBQVUsRUFDZCxJQUFJLElBQUksRUFBRSxFQUNWLEdBQUcsQ0FBQyxHQUFHLENBQ1IsQ0FBQztTQUNIO2FBQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLE1BQU0sRUFBRTtZQUMvQixPQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNyQjtJQUNILENBQUMsQ0FBQztJQUlGLEdBQUcsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBR2xCLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcHAgPSByZXF1aXJlKCcuL3YyL2FwcCcpLFxuLyoqXG4gKiBGdW5nc2kgV2FkYWhrb2RlXG4gKiBcbiAqIFNlYnVhaCBmdW5nc2kgeWFuZyBkaWd1bmFrYW4gdW50dWsgbWVuYW1wdW5nIHNlYnVhaCBmdW5nc2kgbGFpbi5cbiAqIFxuICogQGF1dGhvciB3YWRhaGtvZGUgPG12cC5kZWRlZmlsYXJhc0BnbWFpbC5jb20+XG4gKiBAc2luY2UgdmVyc2lvbiAxLjAuMFxuICovXG53YWRhaGtvZGUgPSAoKSA9PiB7XG4gIC8qKlxuICAgKiBNZXRvZGUgYXRhdSBwcm9wZXJ0aSB5YW5nIGRpZ3VuYWthbiBrZXRpa2FcbiAgICogd2ViIHNlcnZlciBkaW11YXQgZGVuZ2FuIGFwcC5saXN0ZW4oYXJndW1lbnRzKSxcbiAgICogXG4gICAqIFNlY2FyYSBvdG9tYXRpcyBtZW5hbXB1bmcgcmVxdWVzdCBkYW4gcmVzcG9uc2UgZGFyaSBzZXJ2ZXIsXG4gICAqIGRhbiBtZW5jYXJpIHJvdXRlciB5YW5nIGNvY29rIGJlcmRhc2Fya2FuIHJlcXVlc3QgbWV0aG9kbnlhLlxuICAgKiBcbiAgICogQHNpbmNlIHZlcnNpb24gMS4wLjBcbiAgICovXG4gIGFwcC5oYW5kbGUgPSAocmVxOiBhbnksIHJlczogYW55KSA9PiB7XG4gICAgY29uc3Qgcm91dGUgPSBhcHAucm91dGUocmVxKTtcbiAgICBcbiAgICBpZiAocmVxLm1ldGhvZCA9PSAnR0VUJykge1xuICAgICAgcm91dGUuZ2V0KHJlcSwgcmVzKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICfwn4yPICVzICVzICVzICVzJyxcbiAgICAgICAgcmVxLm1ldGhvZCxcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgIG5ldyBEYXRlKCksXG4gICAgICAgIHJlcS51cmxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09ICdQT1NUJykge1xuICAgICAgcmV0dXJuIHJvdXRlLnBvc3QoKTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyB1bnR1ayBtZW5hbXB1bmcgcm91dGVyXG4gIC8vIG1pc2FsbnlhOiBbJy8nOiBbRnVuY3Rpb25dXVxuICBhcHAucmVnaXN0ZXIgPSB7fTtcbiAgXG4gIC8vIEtlbWJhbGlrYW5cbiAgcmV0dXJuIGFwcDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd2FkYWhrb2RlOyJdfQ==