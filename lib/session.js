"use strict";
var queryString = require('querystring');
var session = {};
exports.start = function () {
    for (var key in process.env) {
        session[key] = process.env[key];
    }
};
exports.has = function (sessionid) {
    return process.env[sessionid];
};
exports.set = function (name, value) {
    session[name] = makeId(value.length);
    process.env[name] = session[name];
};
exports.get = function (name) {
    return process.env[name];
};
exports.setStore = function (id, data) {
    session[id] = JSON.stringify(data);
    process.env[id] = session[id];
};
exports.getStore = function (id) {
    return process.env[id];
};
var makeId = function (length) {
    var result = '';
    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    return result;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9zZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7QUFFM0MsSUFBSSxPQUFPLEdBQVEsRUFBRSxDQUFDO0FBRXRCLE9BQU8sQ0FBQyxLQUFLLEdBQUc7SUFDZCxLQUFLLElBQUksR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7UUFDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDLENBQUM7QUFFRixPQUFPLENBQUMsR0FBRyxHQUFHLFVBQVMsU0FBaUI7SUFDdEMsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGLE9BQU8sQ0FBQyxHQUFHLEdBQUcsVUFBUyxJQUFZLEVBQUUsS0FBYTtJQUNoRCxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwQyxDQUFDLENBQUE7QUFFRCxPQUFPLENBQUMsR0FBRyxHQUFHLFVBQVMsSUFBWTtJQUNqQyxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0IsQ0FBQyxDQUFBO0FBRUQsT0FBTyxDQUFDLFFBQVEsR0FBRyxVQUFTLEVBQVUsRUFBRSxJQUFTO0lBQy9DLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGLE9BQU8sQ0FBQyxRQUFRLEdBQUcsVUFBUyxFQUFVO0lBQ3BDLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixJQUFNLE1BQU0sR0FBRyxVQUFDLE1BQWM7SUFDM0IsSUFBSSxNQUFNLEdBQVcsRUFBRSxDQUFDO0lBQ3hCLElBQUksVUFBVSxHQUFXLGdFQUFnRSxDQUFDO0lBQzFGLElBQUksZ0JBQWdCLEdBQVcsVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUNqRCxLQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFHO1FBQ2hDLE1BQU0sSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLGdCQUFnQixDQUFDLENBQUMsQ0FBQztLQUM1RTtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHF1ZXJ5U3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxubGV0IHNlc3Npb246IGFueSA9IHt9O1xuXG5leHBvcnRzLnN0YXJ0ID0gZnVuY3Rpb24oKXtcbiAgZm9yIChsZXQga2V5IGluIHByb2Nlc3MuZW52KSB7XG4gICAgc2Vzc2lvbltrZXldID0gcHJvY2Vzcy5lbnZba2V5XTtcbiAgfVxufTtcblxuZXhwb3J0cy5oYXMgPSBmdW5jdGlvbihzZXNzaW9uaWQ6IHN0cmluZyl7XG4gIHJldHVybiBwcm9jZXNzLmVudltzZXNzaW9uaWRdO1xufTtcblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgc2Vzc2lvbltuYW1lXSA9IG1ha2VJZCh2YWx1ZS5sZW5ndGgpO1xuICBwcm9jZXNzLmVudltuYW1lXSA9IHNlc3Npb25bbmFtZV07XG59XG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24obmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBwcm9jZXNzLmVudltuYW1lXTtcbn1cblxuZXhwb3J0cy5zZXRTdG9yZSA9IGZ1bmN0aW9uKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkge1xuICBzZXNzaW9uW2lkXSA9SlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIHByb2Nlc3MuZW52W2lkXSA9IHNlc3Npb25baWRdO1xufTtcblxuZXhwb3J0cy5nZXRTdG9yZSA9IGZ1bmN0aW9uKGlkOiBzdHJpbmcpe1xuICByZXR1cm4gcHJvY2Vzcy5lbnZbaWRdO1xufTtcblxuY29uc3QgbWFrZUlkID0gKGxlbmd0aDogbnVtYmVyKSA9PiB7XG4gICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcbiAgIGxldCBjaGFyYWN0ZXJzOiBzdHJpbmcgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAgbGV0IGNoYXJhY3RlcnNMZW5ndGg6IG51bWJlciA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICAgZm9yICggbGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICAgfVxuICAgcmV0dXJuIHJlc3VsdDtcbn07Il19